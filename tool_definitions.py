# import requests # 実際にはGoogle Custom Search APIなどを使う
# import json

# これはダミーの実装です。
# 実際にはここでGoogle Custom Search JSON APIなどを呼び出します。
def search_web(query: str) -> str:
    """
    指定されたクエリでWebを検索し、関連性の高いページの要約テキストを返します。
    
    Args:
        query: Web検索クエリ（例: "東京駅 個室あり 予算5000円 ディナー"）
    
    Returns:
        検索結果のサマリーテキスト。複数の店舗情報を含むことがあります。
    """
    print(f"--- ツール実行: Web検索 (クエリ: {query}) ---")

    # 【重要】ここはダミーのレスポンスです。
    # 実際には、Google Custom Search APIや専用の検索ライブラリを使ってWeb検索を実行し、
    # その結果のHTMLコンテンツやスニペットを文字列として返します。
    # 返す内容は、Geminiが後続処理で扱いやすいように、店舗情報が複数含まれたテキストを想定します。
    dummy_result = """
    ## レストランA
    場所: 東京駅 八重洲口 徒歩3分
    価格帯: ディナー 4,000円〜
    特徴: 全席個室でプライベートな空間を提供。旬の食材を使った和食が人気。
    ウェブサイトでアレルギー対応メニューについて記載あり。接待や記念日に最適。

    ## BISTRO B
    場所: 東京駅 丸の内 徒歩5分
    価格帯: ランチ 1500円, ディナー 5000円
    特徴: おしゃれなフレンチビストロ。アレルギー情報については要問い合わせ。
    オープンキッチンで活気があり、友人との食事におすすめ。

    ## 中華料理 C
    場所: 東京駅 日本橋口 徒歩2分
    価格帯: 平均予算 3,500円
    特徴: 本格的な四川料理が楽しめる。大人数向けの円卓個室あり。
    アレルギー対応については柔軟に対応可能とのこと。
    """
    return dummy_result